---
import type { Playlist } from '@/lib/data'
/* import { usePlayerStore } from '@/store/playerStore.ts'
 */
interface Props {
    playlist: Playlist
}

const { playlist } = Astro.props
const { id, cover, title, artists, color } = playlist

const artistsString = artists.join(', ')
/* const { isPlaying, setIsPlaying, currentMusic, setCurrentMusic } = usePlayerStore(state => state)
const isPlayingPlaylist = isPlaying && currentMusic?.playlist?.id === id */
---

<a 
    href={`/playlist/${id}`}
    class="playlist-item flex relative p-2 overflow-hidden items-center gap-3 rounded-md hover:bg-zinc-800"
>
    <picture class="h-12 w-12 flex-none">
        <img
            src={cover}
            alt={`cover of ${title} by ${artistsString}`}
            class="object-cover w-full h-full rounded-[4px]"
        />
    </picture>

    <div class="flex flex-col flex-auto truncate">
        <h4 class={"text-white font-medium"}>
            { title }
        </h4>

        <span class="text-sm text-zinc-400">
            { artistsString }
        </span>
    </div>
</a>